{"version":3,"sources":["views/Vote2/StyledComponents2.tsx","views/Vote2/Gift.tsx","views/Profile/EmojiPicker.js","views/Profile/StyledComponents.tsx","views/Profile/ChatAppStyles.ts","views/Profile/index.tsx"],"names":["Container","styled","Box","DepositList","ul","HeaderContainer","Button","div","Title","h2","ImageGrid","span","InfoText","Text","VizslaSwap","account","useWeb3React","useState","tokenContract","setTokenContract","vizslaSwapContract","setVizslaSwapContract","contractAddress","approved","setApproved","showDropdown","setShowDropdown","loadingIndex","setLoadingIndex","deposits","setDeposits","depositOptions","useMemo","amount","ethers","utils","parseUnits","label","color","useEffect","a","provider","providers","Web3Provider","window","ethereum","signer","getSigner","Contract","tokenABI","GiftABI","error","console","initializeContracts","maxAmount","allowance","gte","checkApprovalStatus","promises","i","push","getDepositDetails","then","deposit","id","catch","Promise","all","fetchedDeposits","validDeposits","filter","sort","b","timestamp","paginatedDeposits","slice","map","user","transactionId","fetchDeposits","approve","index","tx","wait","makeDeposit","alert","handleButtonClick","alignItems","justifyContent","onClick","style","display","gridTemplateColumns","gap","marginBottom","option","disabled","background","padding","fontSize","margin","textAlign","toString","formatUnits","Date","toLocaleString","styles","emojiPicker","marginTop","flexDirection","border","borderRadius","backgroundColor","toggleButton","cursor","pickerContainer","flexWrap","emojiButton","width","height","imageButton","EmojiPicker","setNewMessage","newMessage","handleSendImage","isEmojiMode","setIsEmojiMode","emoji","sticker","src","alt","runningLightAnimation","keyframes","hoverEffect","activeEffect","borderGlow","ChatBox","Input","input","theme","colors","failure","text","align","primary","isActive","TopListTitle","container","maxWidth","position","overflow","deleteButton","marginLeft","fileButton","chatBox","overflowY","messageContainer","emojiFileContainer","avatar","marginRight","message","flex","inputContainer","searchButton","sendButton","sentImage","maxHeight","fileInput","previewContainer","previewText","previewImage","topListBox","topList","listStyle","topListImage","inputRow","fileContainer","boxShadow","paginationButton","lastCollectedInfo","collectButton","supabase","createClient","process","Profile","messages","setMessages","cooldown","setCooldown","lastCollector","setLastCollector","lastCollectedAmount","setLastCollectedAmount","chatBoxRef","useRef","location","useLocation","setTopList","setTop10Addresses","currentPage","setCurrentPage","names","setNames","userNumbers","setUserNumbers","isSearching","setIsSearching","searchQuery","setSearchQuery","emojiPickerVisible","setEmojiPickerVisible","image","setImage","giftBalance","setGiftBalance","enlargedImage","setEnlargedImage","contract","setContract","contract2","setContract2","giftContract","setGiftContract","t","useTranslation","displayedMessages","setDisplayedMessages","isTopListVisible","setIsTopListVisible","giftAddress","fileInputRef","handleImageClick","handleModalClose","toggleTopList","length","from","select","order","ascending","data","calculateTopList","contractABI","NumberPurchaseABI","TokenABI","fetchGiftBalance","balanceOf","balance","formattedBalance","parseFloat","fetchLastCollectedData","formattedAmount","interval","setInterval","clearInterval","handleScroll","e","current","scrollTop","currentScrollHeight","scrollHeight","lt","limit","prevMessages","reverse","prev","Math","min","setTimeout","newScrollHeight","handleDeleteMessage","msg","confirm","delete","eq","m","collectTokens","collect","fetchMessages","channel","on","event","schema","table","payload","new","updatedMessages","subscribe","removeChannel","userList","usersFromMessages","sender","usersFromTopList","Array","Set","newNames","newNumbers","single","existingData","fetchError","code","name","number","getName","userPurchases","userPurchase","userNumber","toNumber","insert","log","fetchUserData","timer","clearTimeout","pathname","handleSend","messageText","trim","userMessageCount","Map","forEach","set","get","sortedTopList","entries","top10","handlePageChange","page","getSenderName","substring","getSenderStyle","findIndex","getSenderImage","formattedNumber","padStart","formatTimestamp","date","timeString","toLocaleTimeString","navigator","language","hour","minute","second","hour12","dateString","toLocaleDateString","month","day","startIndex","endIndex","totalPages","ceil","filteredTopList","toLowerCase","includes","filteredMessages","FarmsPoolsRowLoader","activeIndex","scale","variant","to","as","Link","mt","ref","onScroll","onKeyDown","key","objectFit","type","value","onChange","target","placeholder","click","accept","files","file","size","reader","FileReader","onload","result","readAsDataURL","imageSrc","Gift","bold","count","pageNumbers","startPage","getPageNumbers","pageNumber","top","left","right","bottom","zIndex","role","tabIndex","ConnectWalletButton"],"mappings":"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","file":"static/js/6.86bde681.chunk.js","sourcesContent":["import styled from 'styled-components';\r\nimport { Box, Button, Text } from '@pancakeswap/uikit';\r\n\r\nconst Container = styled(Box)`\r\n  max-width: 350px;\r\n    align-items: right;\r\n  margin: 10px auto;\r\n  padding: 10px;\r\n  border: 2px solid #5a9f98;\r\n  justify-content: right;\r\n  border-radius: 12px;\r\n  background-color: #000;\r\n  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);\r\n  color: #fff;\r\n`;\r\nconst DepositList = styled.ul`\r\n  list-style: none;\r\n  padding: 0;\r\n  margin-top: 20px;\r\n  background-color: #1e1e1e;\r\n  border-radius: 8px;\r\n    font-size: 0.9rem;\r\n\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\r\n  color: #e5e5e5;\r\n\r\n  li {\r\n    padding: 15px;\r\n    border-bottom: 1px solid #333;\r\n    \r\n    &:last-child {\r\n      border-bottom: none;\r\n    }\r\n\r\n    strong {\r\n      color: #62d5a3;\r\n    }\r\n  }\r\n`;\r\nconst ArrowButton = styled(Button)`\r\n  background-color: #62d5a3;\r\n  color: #1e1e1e;\r\n  font-weight: bold;\r\n  padding: 10px 20px;\r\n  border-radius: 8px;\r\n  border: none;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s ease, transform 0.2s ease;\r\n\r\n  &:hover {\r\n    background-color: #4abf88;\r\n    transform: translateY(-2px);\r\n  }\r\n\r\n  &:active {\r\n    background-color: #3aa47b;\r\n    transform: translateY(0);\r\n  }\r\n\r\n  &:disabled {\r\n    background-color: #3aa47b;\r\n    cursor: not-allowed;\r\n  }\r\n`;\r\n\r\nconst HeaderContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst Title = styled.h2`\r\n  margin-bottom: 0;\r\n  font-size: 1.2rem;\r\n  color: #62d5a3;\r\n`;\r\n\r\nconst ArrowIcon = styled.span`\r\n  margin-left: 10px;\r\n  font-size: 1.5rem;\r\n  color: #62d5a3;\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nconst Content = styled.div`\r\n  margin-top: 20px;\r\n`;\r\n\r\nconst ImageGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));\r\n  gap: 10px;\r\n  margin-top: 20px;\r\n`;\r\n\r\nconst ImageItem = styled.div`\r\n  text-align: center;\r\n\r\n  img {\r\n    width: 80px;\r\n    height: 80px;\r\n    border-radius: 8px;\r\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n  }\r\n\r\n  p {\r\n    color: #e5e5e5;\r\n    font-size: 0.9rem;\r\n    margin-top: 10px;\r\n  }\r\n`;\r\n\r\nconst StyledButton = styled(Button)`\r\n  width: 100%;\r\n  padding: 12px;\r\n  font-size: 1rem;\r\n  font-weight: bold;\r\n  background-color: #62d5a3;\r\n  color: #1e1e1e;\r\n  border-radius: 8px;\r\n  margin-top: 10px;\r\n  border: none;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s ease, transform 0.2s ease;\r\n\r\n  &:hover {\r\n    background-color: #4abf88;\r\n    transform: translateY(-2px);\r\n  }\r\n\r\n  &:active {\r\n    background-color: #3aa47b;\r\n    transform: translateY(0);\r\n  }\r\n`;\r\n\r\nconst InfoText = styled(Text)`\r\n  font-size: 1.2rem;\r\n  color: #e5e5e5;\r\n`;\r\n\r\nconst InfoText2 = styled(Text)`\r\n  font-size: 1.2rem;\r\n  color: #e5e5e5;\r\n`;\r\nexport { Container, HeaderContainer, Title, ArrowIcon, Content, ImageGrid, ImageItem, StyledButton, InfoText,InfoText2, DepositList, ArrowButton };\r\n","import React, { useEffect, useMemo, useState } from 'react';\r\nimport { ethers } from 'ethers';\r\nimport { useWeb3React } from '@web3-react/core/core/core';\r\nimport { Button, Flex } from '@pancakeswap/uikit';\r\nimport { Container, HeaderContainer, Title, ImageGrid, DepositList, ArrowButton, InfoText } from './StyledComponents2';\r\nimport tokenABI from './TokenABI.json';\r\nimport GiftABI from './GiftABI.json';\r\n\r\nconst VizslaSwap = () => {\r\n  const { account } = useWeb3React();\r\n  const [tokenContract, setTokenContract] = useState(null);\r\n  const [vizslaSwapContract, setVizslaSwapContract] = useState(null);\r\n\r\n  const tokenContractAddress = '0xaDAaE082237cB1772c9e079dB95c117E6Dd0C5aF';\r\n  const contractAddress = '0xC8B19e19f52CE07bf9c4745caA4aAC87ab199cDD';\r\n\r\n  const [approved, setApproved] = useState(false);\r\n  const [showDropdown, setShowDropdown] = useState(false);\r\n  const [loadingIndex, setLoadingIndex] = useState<number | null>(null);\r\n  const [deposits, setDeposits] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n\r\n  const depositOptions = useMemo(() => [\r\n    {\r\n      amount: ethers.utils.parseUnits('200', 18),\r\n      label: '200 VIZSLASWAP 🎁',\r\n      color: 'linear-gradient(135deg, #62D5A3 0%, #38A169 100%)', // Zöld gradiens\r\n    },\r\n    {\r\n      amount: ethers.utils.parseUnits('500', 18),\r\n      label: '500 VIZSLASWAP 🎁',\r\n      color: 'linear-gradient(135deg, #CD7F32 0%, #8C4A00 100%)', // Bronz gradiens\r\n    },\r\n    {\r\n      amount: ethers.utils.parseUnits('1000', 18),\r\n      label: '1000 VIZSLASWAP 🎁',\r\n      color: 'linear-gradient(135deg, #6E6E6E 0%, #4B4B4B 100%)', // Ezüst gradiens\r\n    },\r\n    {\r\n      amount: ethers.utils.parseUnits('5000', 18),\r\n      label: '5000 VIZSLASWAP 🎁',\r\n      color: 'linear-gradient(135deg, #B8860B 0%, #8B7500 100%)', // Arany gradiens\r\n    },\r\n  ], []);\r\n\r\n  useEffect(() => {\r\n    const initializeContracts = async () => {\r\n      if (account) {\r\n        try {\r\n          const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n          const signer = provider.getSigner();\r\n\r\n          setTokenContract(new ethers.Contract(tokenContractAddress, tokenABI, signer));\r\n          setVizslaSwapContract(new ethers.Contract(contractAddress, GiftABI, signer));\r\n        } catch (error) {\r\n          console.error('Failed to initialize contracts:', error);\r\n        }\r\n      }\r\n    };\r\n\r\n    initializeContracts();\r\n  }, [account]);\r\n\r\n  useEffect(() => {\r\n    const checkApprovalStatus = async () => {\r\n      if (tokenContract && account) {\r\n        try {\r\n          const maxAmount = ethers.utils.parseUnits('5000', 18);\r\n          const allowance = await tokenContract.allowance(account, contractAddress);\r\n          setApproved(allowance.gte(maxAmount));\r\n        } catch (error) {\r\n          console.error('Error checking allowance:', error);\r\n        }\r\n      }\r\n    };\r\n\r\n    checkApprovalStatus();\r\n  }, [account, tokenContract]);\r\n\r\n  useEffect(() => {\r\n    const fetchDeposits = async () => {\r\n      if (vizslaSwapContract) {\r\n        try {\r\n          const totalDeposits = 100; // Használj egy nagy számot, vagy kérdezd le a tényleges összesen lévő depositokat a contractból, ha van ilyen funkció\r\n          const promises = [];\r\n  \r\n          // Az összes deposit lekérése\r\n          for (let i = 0; i < totalDeposits; i++) {\r\n            promises.push(\r\n              vizslaSwapContract.getDepositDetails(i)\r\n                .then(deposit => ({ ...deposit, id: i }))\r\n                .catch(error => {\r\n                  console.error('Error fetching deposit:', error);\r\n                  return null;\r\n                })\r\n            );\r\n          }\r\n  \r\n          const fetchedDeposits = await Promise.all(promises);\r\n          const validDeposits = fetchedDeposits.filter(deposit => deposit !== null);\r\n  \r\n          // A depositok rendezése fordított időrendben (legújabb elől)\r\n          validDeposits.sort((a, b) => b.timestamp - a.timestamp);\r\n  \r\n          // Csak az első 5 legfrissebb deposit kiválasztása\r\n          const paginatedDeposits = validDeposits.slice(0, 5);\r\n  \r\n          // Az aktuális oldalhoz tartozó depositokat állítjuk be\r\n          setDeposits(paginatedDeposits.map((deposit) => ({\r\n            user: deposit[0],\r\n            amount: deposit[1],\r\n            timestamp: deposit[2],\r\n            transactionId: deposit.id,\r\n          })));\r\n  \r\n        } catch (error) {\r\n          console.error('Error fetching deposits:', error);\r\n        }\r\n      }\r\n    };\r\n  \r\n    if (showDropdown) {\r\n      fetchDeposits();\r\n    }\r\n  }, [vizslaSwapContract, showDropdown]);\r\n  \r\n  \r\n  \r\n  \r\n  \r\n\r\n  const approve = async (index: number) => {\r\n    if (tokenContract && account) {\r\n      try {\r\n        const tx = await tokenContract.approve(contractAddress, depositOptions[index].amount);\r\n        setLoadingIndex(index);\r\n        await tx.wait();\r\n        const allowance = await tokenContract.allowance(account, contractAddress);\r\n        if (allowance.gte(depositOptions[index].amount)) {\r\n          setApproved(true);\r\n        }\r\n      } catch (error) {\r\n        console.error('Approval failed:', error);\r\n      } finally {\r\n        setLoadingIndex(null);\r\n      }\r\n    }\r\n  };\r\n\r\n  const deposit = async (index: number) => {\r\n    if (vizslaSwapContract) {\r\n      try {\r\n        setLoadingIndex(index);\r\n        const tx = await vizslaSwapContract.makeDeposit(index + 1);\r\n        await tx.wait();\r\n        alert('Deposit successful!');\r\n        setShowDropdown(false);\r\n      } catch (error) {\r\n        console.error('Deposit failed:', error);\r\n      } finally {\r\n        setLoadingIndex(null);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleButtonClick = async (index: number) => {\r\n    if (!approved) {\r\n      await approve(index);\r\n    } else {\r\n      await deposit(index);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Flex alignItems=\"right\" justifyContent=\"right\">\r\n      <Container>\r\n        <HeaderContainer onClick={() => setShowDropdown(!showDropdown)}>\r\n          <InfoText>Send Gift 🎁</InfoText>\r\n        </HeaderContainer>\r\n\r\n        {showDropdown && (\r\n          <>\r\n            <ImageGrid style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '10px', marginBottom: '20px' }}>\r\n              {depositOptions.map((option, index) => (\r\n                <Button\r\n                  key={option.amount.toString()}\r\n                  disabled={loadingIndex !== null}\r\n                  onClick={() => handleButtonClick(index)}\r\n                  style={{\r\n                    background: option.color,\r\n                    padding: '10px',\r\n                    fontSize: '12px',\r\n                    margin: '5px 0',\r\n                    textAlign: 'center',\r\n                  }}\r\n                >\r\n                  {loadingIndex === index ? 'Processing...' : approved ? option.label : 'Approve'}\r\n                </Button>\r\n              ))}\r\n            </ImageGrid>\r\n\r\n            <Title style={{ textAlign: 'center' }}>Recent Deposits</Title>\r\n            <DepositList>\r\n              {deposits.map((deposit) => (\r\n                <li key={deposit.transactionId}>\r\n                  <strong>User:</strong> {deposit.user} <br />\r\n                  <strong>Amount:</strong> {ethers.utils.formatUnits(deposit.amount, 18)} VIZSLASWAP <br />\r\n                  <strong>Timestamp:</strong> {new Date(deposit.timestamp * 1000).toLocaleString()}\r\n                </li>\r\n              ))}\r\n            </DepositList>\r\n\r\n       \r\n          </>\r\n        )}\r\n      </Container>\r\n    </Flex>\r\n  );\r\n};\r\n\r\nexport default VizslaSwap;\r\n","import React, { useState } from 'react';\r\nimport { Button } from '@pancakeswap/uikit';\r\n\r\nconst EmojiPicker = ({ setNewMessage, newMessage, handleSendImage }) => {\r\n  const [isEmojiMode, setIsEmojiMode] = useState(true);  // Toggle between Emoji and Sticker\r\n\r\n  const emojis = ['😊', '😂', '😢', '😍', '😎', '🎉', '🎁', '😜', '🤔', '😇', '🙃', '😅', '🤣', '🤩', '😡', '🥳', '🤯', '😱', '🤗', '😏', '😴', '🤤', '😷', '🤒', '🤕', '🤮', '🤑', '😈', '👻', '💩', '😺', '👀', '💪', '🙏', '👏', '🙌', '👐', '✌️', '👍', '👎', '👊', '🤟'];\r\n  const stickers = [\r\n    'images/pixel/L/10.png',\r\n    'images/pixel/L/28.png',\r\n    'images/pixel/L/0.png',\r\n    'images/pixel/L/1.png',\r\n    'images/pixel/L/18.png',\r\n    'images/pixel/L/15.png',\r\n    'images/pixel/L/19.png',\r\n    'images/pixel/L/21.png',\r\n    'images/pixel/L/7.png',\r\n    'images/pixel/L/11.png',\r\n    'images/pixel/L/8.png',\r\n    'images/pixel/L/29.png',\r\n    'images/pixel/L/30.png',\r\n    'images/pixel/L/31.png',\r\n    'images/pixel/L/20.png',\r\n    'images/pixel/L/6.png',\r\n    'images/pixel/L/9.png',\r\n    'images/pixel/L/32.png',\r\n    'images/pixel/L/33.png',\r\n    'images/pixel/L/34.png',\r\n    'images/pixel/L/27.png',\r\n    'images/pixel/L/2.png',\r\n    'images/pixel/L/3.png',\r\n    'images/pixel/L/4.png',\r\n    'images/pixel/L/5.png',\r\n    'images/pixel/L/16.png',\r\n    'images/pixel/L/24.png',\r\n    'images/pixel/L/25.png',\r\n    'images/pixel/L/22.png',\r\n    'images/pixel/L/14.png',\r\n    'images/pixel/L/23.png',\r\n    'images/pixel/L/26.png',\r\n    'images/pixel/L/12.png',\r\n    'images/pixel/L/13.png',\r\n    'images/pixel/L/17.png',\r\n  ];\r\n\r\n  const handleToggleMode = () => {\r\n    setIsEmojiMode(!isEmojiMode);  // Switch between Emoji and Sticker mode\r\n  };\r\n\r\n  return (\r\n    <div style={styles.emojiPicker}>\r\n      {/* Toggle between Emoji and Sticker */}\r\n      <Button onClick={handleToggleMode} style={styles.toggleButton}>\r\n        {isEmojiMode ? 'Switch to Stickers' : 'Switch to Emojis'}\r\n      </Button>\r\n\r\n      <div style={styles.pickerContainer}>\r\n        {isEmojiMode ? (\r\n          emojis.map((emoji) => (\r\n            <Button\r\n              key={emoji}\r\n              onClick={() => setNewMessage(`${newMessage}${emoji}`)}\r\n              style={styles.emojiButton}\r\n            >\r\n              {emoji}\r\n            </Button>\r\n          ))\r\n        ) : (\r\n          stickers.map((sticker) => (\r\n            <Button\r\n              key={sticker}\r\n              onClick={() => handleSendImage(sticker)}  // Call handleSendImage with the selected sticker\r\n              style={styles.imageButton}\r\n            >\r\n              <img src={sticker} alt=\"sticker\" style={{ width: '55px', height: '55px' }} />\r\n            </Button>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  emojiPicker: {\r\n    marginTop: '10px',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: '10px',\r\n    border: '2px solid #5a9f98',\r\n    borderRadius: '8px',\r\n    backgroundColor: '#000',\r\n    color: '#fff',\r\n  },\r\n  toggleButton: {\r\n    fontSize: '14px',\r\n    margin: '10px 0',\r\n    padding: '5px',\r\n    cursor: 'pointer',\r\n    backgroundColor: '#5a9f98',\r\n    border: 'none',\r\n    borderRadius: '4px',\r\n    color: '#fff',\r\n  },\r\n  pickerContainer: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n    gap: '5px',  // Space between emojis and stickers\r\n  },\r\n  emojiButton: {\r\n    fontSize: '24px',\r\n    cursor: 'pointer',\r\n    background: 'none',\r\n    border: 'none',\r\n    padding: '10px',\r\n    display: 'inline-block',\r\n    width: '45px',  // Uniform width\r\n    height: '45px',\r\n    textAlign: 'center',\r\n  },\r\n  imageButton: {\r\n    background: 'none',\r\n    border: 'none',\r\n    padding: '0',\r\n    display: 'inline-block',\r\n    width: '55px',\r\n    height: '55px',\r\n    cursor: 'pointer',\r\n  },\r\n};\r\n\r\nexport default EmojiPicker;\r\n","import styled, { keyframes } from 'styled-components';\r\nimport { Box, Button, Text } from '@pancakeswap/uikit';\r\n\r\nconst runningLightAnimation = keyframes`\r\n  0% {\r\n    text-shadow: 0 0 2.5px #62d5a3, 0 0 5px #62d5a3, 0 0 7.5px #62d5a3, 0 0 10px #62d5a3;\r\n  }\r\n  50% {\r\n    text-shadow: 0 0 5px #62d5a3, 0 0 7.5px #62d5a3, 0 0 10px #62d5a3, 0 0 12.5px #62d5a3;\r\n  }\r\n  100% {\r\n    text-shadow: 0 0 2.5px #62d5a3, 0 0 5px #62d5a3, 0 0 7.5px #62d5a3, 0 0 10px #62d5a3;\r\n  }\r\n`;\r\nconst hoverEffect = keyframes`\r\n  0% {\r\n    transform: translateX(0);\r\n    box-shadow: 0 0 5px rgba(255, 255, 255, 0.3);\r\n  }\r\n  100% {\r\n    transform: translateX(0);\r\n    box-shadow: 0 0 15px rgba(255, 255, 255, 0.7);\r\n  }\r\n`;\r\nconst activeEffect = keyframes`\r\n  0% {\r\n    transform: translateX(0);\r\n    box-shadow: 0 0 5px rgba(83, 178, 140, 0.3);\r\n  }\r\n  100% {\r\n    transform: translateX(0);\r\n    box-shadow: 0 0 15px rgba(83, 178, 140, 0.7);\r\n  }\r\n`;\r\nconst borderGlow = keyframes`\r\n  0% {\r\n    border-color: #62d5a3;\r\n    box-shadow: 0 0 5px #62d5a3;\r\n  }\r\n  50% {\r\n    border-color: #4abf88;\r\n    box-shadow: 0 0 15px #4abf88;\r\n  }\r\n  100% {\r\n    border-color: #62d5a3;\r\n    box-shadow: 0 0 5px #62d5a3;\r\n  }\r\n`;\r\nconst ChatBox = styled.div`\r\n  width: 100%;\r\n  height: 300px;\r\n    margin-top: 20px;\r\n  overflow-y: scroll;\r\n  margin-bottom: 10px;\r\n  padding: 10px;\r\n  border: 2px solid #5a9f98;\r\n  border-radius: 8px;\r\n  background-color: #000;\r\n  color: #fff;\r\n  flex-direction: column-reverse;\r\n  animation: ${borderGlow} 2s infinite;\r\n`;\r\nconst Input = styled.input<{ error?: boolean; fontSize?: string; align?: string; isActive?: boolean }>`\r\n  color: ${({ error, theme }) => (error ? theme.colors.failure : theme.colors.text)};\r\n  width: 0;\r\n  position: relative;\r\n  font-weight: 500;\r\n  max-width: 400px\r\n  outline: none;\r\n  border: none;\r\n  flex: 1 1 auto;\r\n  background-color: transparent;\r\n  font-size: ${({ fontSize }) => fontSize || '16px'};\r\n  text-align: ${({ align }) => align || 'left'};\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  padding: 0px;\r\n  -webkit-appearance: textfield;\r\n  transition: all 0.3s ease;\r\n\r\n  ::-webkit-search-decoration {\r\n    -webkit-appearance: none;\r\n  }\r\n\r\n  [type='number'] {\r\n    -moz-appearance: textfield;\r\n  }\r\n\r\n  ::-webkit-outer-spin-button,\r\n  ::-webkit-inner-spin-button {\r\n    -webkit-appearance: none;\r\n  }\r\n\r\n  ::placeholder {\r\n    color: ${({ theme }) => theme.colors.primary};\r\n  }\r\n\r\n  animation: ${({ isActive }) => (isActive ? activeEffect : hoverEffect)} 0.5s forwards;\r\n\r\n  &:hover {\r\n    animation: ${({ isActive }) => (isActive ? activeEffect : hoverEffect)} 0.5s forwards;\r\n  }\r\n\r\n  &:focus {\r\n    animation: ${activeEffect} 0.5s forwards;\r\n    background-color: ${({ theme }) => theme.colors.background};\r\n  }\r\n`;\r\n\r\nconst Container = styled.div`\r\n  padding: 20px;\r\n  max-width: 100%;\r\n  margin: 20px auto;\r\n   border-radius: 15px;\r\n  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);\r\n  overflow: hidden;\r\n  color: #fff;\r\n`;\r\nconst Title = styled(Text)`\r\n  text-align: center;\r\n  color: #fff;\r\n  font-size: 50px;\r\n    margin-top: -20px;\r\n  font-weight: bold; /* Make the text thicker */\r\n  margin-bottom: 20px;\r\n    animation: ${runningLightAnimation} 2s infinite; /* Alkalmazzuk az animációt */\r\n`;\r\nconst TopListTitle = styled(Text)`\r\n  text-align: center;\r\n  color: #fff;\r\n    margin-top: 20px; // Ugyanaz a távolság a toplistától, mint a chatboxtól\r\n  font-size: 28px;\r\n  margin-bottom: 20px; // Ugyanaz a távolság a toplistától, mint a chatboxtól\r\n    animation: ${runningLightAnimation} 2s infinite; /* Alkalmazzuk az animációt */\r\n`;\r\n\r\nexport { runningLightAnimation, hoverEffect,activeEffect,borderGlow,ChatBox,Input,Container,Title,TopListTitle };\r\n","// ChatAppStyles.ts\r\nimport { CSSProperties } from 'react';\r\n\r\nconst styles: { [key: string]: CSSProperties } = {\r\n  container: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    width: '100%',\r\n    maxWidth: '1200px',\r\n    margin: '0 auto',\r\n    padding: '20px',\r\n    borderRadius: '15px',\r\n    color: '#e5e5e5',\r\n    position: 'relative',\r\n    overflow: 'hidden',\r\n  },\r\n  deleteButton: {\r\n    marginLeft: '10px',\r\n    background: 'transparent',\r\n    border: 'none',\r\n    cursor: 'pointer',\r\n    fontSize: '18px',\r\n    color: '#ff0000', // Red color for the delete button\r\n  },  \r\n  fileButton: {\r\n    marginLeft: '5px',\r\n    padding: '8px',\r\n    backgroundColor: '#5a9f98',\r\n    color: '#fff',\r\n    border: 'none',\r\n    borderRadius: '4px',\r\n    cursor: 'pointer',\r\n    fontSize: '20px',\r\n  },\r\n  chatBox: {\r\n    width: '100%',\r\n    height: '300px',\r\n    overflowY: 'scroll',\r\n    marginBottom: '10px',\r\n    padding: '10px',\r\n    border: '2px solid #5a9f98',\r\n    borderRadius: '8px',\r\n    backgroundColor: '#000',\r\n    color: '#fff',\r\n    flexDirection: 'column-reverse',\r\n  },\r\n  messageContainer: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    padding: '5px 0',\r\n  },\r\n  emojiFileContainer: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    marginTop: '10px',\r\n  },\r\n  avatar: {\r\n    width: '45px',\r\n    height: '45px',\r\n    marginRight: '10px',\r\n    borderRadius: '25%',\r\n  },\r\n  message: {\r\n    flex: 1,\r\n  },\r\n  inputContainer: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  input: {\r\n    width: '100%',\r\n    padding: '10px',\r\n    marginBottom: '10px',\r\n    borderRadius: '4px',\r\n    backgroundColor: '#000',\r\n    color: '#fff',\r\n  },\r\n  searchButton: {\r\n    marginLeft: '5px',\r\n    padding: '8px',\r\n    backgroundColor: '#5a9f98',\r\n    color: '#fff',\r\n    border: 'none',\r\n    borderRadius: '4px',\r\n    cursor: 'pointer',\r\n  },\r\n  emojiButton: {\r\n    marginLeft: '5px',\r\n    padding: '8px',\r\n    backgroundColor: '#5a9f98',\r\n    color: '#fff',\r\n    border: 'none',\r\n    borderRadius: '4px',\r\n    cursor: 'pointer',\r\n  },\r\n  sendButton: {\r\n    marginLeft: '5px',\r\n    padding: '8px',\r\n    backgroundColor: '#5a9f98',\r\n    color: '#fff',\r\n    border: 'none',\r\n    borderRadius: '4px',\r\n    cursor: 'pointer',\r\n  },\r\n  sentImage: {\r\n    maxWidth: '100px',\r\n    maxHeight: '100px',\r\n    height: 'auto',\r\n    width: 'auto',\r\n    marginTop: '10px',\r\n    borderRadius: '8px',\r\n  },\r\n  fileInput: {\r\n    color: '#fff',\r\n    cursor: 'pointer',\r\n    width: '100%',\r\n    backgroundColor: '#000',\r\n    borderRadius: '4px',\r\n    padding: '10px',\r\n    border: 'none',\r\n  },\r\n  previewContainer: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    marginTop: '10px',\r\n  },\r\n  previewText: {\r\n    marginRight: '10px',\r\n    color: '#fff',\r\n  },\r\n  previewImage: {\r\n    maxWidth: '100px',\r\n    maxHeight: '100px',\r\n    borderRadius: '8px',\r\n  },\r\n  topListBox: {\r\n    width: '100%',\r\n    display: 'block',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    padding: '10px',\r\n    border: '2px solid #5a9f98',\r\n    borderRadius: '8px',\r\n    backgroundColor: '#000',\r\n    color: '#fff',\r\n    marginTop: '40px',\r\n    textAlign: 'center',\r\n  },\r\n  topList: {\r\n    listStyle: 'none',\r\n    display: 'block',\r\n    padding: '0',\r\n    margin: '10px 0',\r\n    width: '100%',\r\n  },\r\n  topListImage: {\r\n    width: '40px',\r\n    height: '40px',\r\n    borderRadius: '25%',\r\n    marginRight: '10px',\r\n  },\r\n  inputRow: {\r\n    display: 'block',\r\n    width: '100%',\r\n    marginBottom: '10px',\r\n  },\r\n  fileContainer: {\r\n    alignItems: 'left',\r\n    width: '100%',\r\n    marginTop: '10px',\r\n    padding: '10px',\r\n    border: '2px solid #5a9f98',\r\n    borderRadius: '8px',\r\n    backgroundColor: '#000',\r\n    boxShadow: '0 4px 8px rgba(0, 0, 0, 0.2)',\r\n  },\r\n  timestamp: {\r\n    display: 'block',\r\n    fontSize: '0.8em',\r\n    color: '#aaa',\r\n    marginTop: '5px',\r\n  },\r\n  paginationButton: {\r\n    margin: '5px',\r\n    backgroundColor: '#333',\r\n    color: '#fff',\r\n  },\r\n  lastCollectedInfo: {\r\n    fontSize: '8px',\r\n    textAlign: 'right',\r\n    color: '#fff',\r\n  },\r\n  collectButton: {\r\n    marginTop: '10px',\r\n    padding: '10px',\r\n    color: '#fff',\r\n    border: 'none',\r\n    borderRadius: '4px',\r\n    cursor: 'pointer',\r\n  },\r\n};\r\n\r\nexport default styles;\r\n","import React, { useEffect, useRef, useState, useMemo } from 'react';\nimport { useLocation, Link } from 'react-router-dom';\nimport { useWeb3React } from '@web3-react/core/core/core';\nimport { useTranslation } from 'contexts/Localization';\nimport { ButtonMenu, ButtonMenuItem, Button, Flex, Text } from '@pancakeswap/uikit';\nimport ConnectWalletButton from 'components/ConnectWalletButton';\nimport { ethers } from 'ethers'; \nimport { createClient } from '@supabase/supabase-js';\nimport Gift from '../Vote2/Gift';\nimport EmojiPicker from './EmojiPicker';\nimport { ChatBox, Input, Container, Title, TopListTitle } from './StyledComponents';\nimport NumberPurchaseABI from './NumberPurchaseABI.json';\nimport contractABI from './contractABI.json';\nimport GiftABI from './GiftABI.json';\nimport TokenABI from './TokenABI.json';\nimport styles from './ChatAppStyles';\nimport FarmsPoolsRowLoader from '../Home/components/FarmsPoolsRowLoader';\n\nconst supabaseUrl = process.env.REACT_APP_SUPABASE_URL;\nconst supabaseKey = process.env.REACT_APP_SUPABASE_KEY;\nconst supabase = createClient(supabaseUrl, supabaseKey);\n\nconst Profile: React.FC = () => {\n  const { account } = useWeb3React()\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState(''); \n  const [cooldown, setCooldown] = useState(0);\n  const [lastCollector, setLastCollector] = useState(null);\n  const [lastCollectedAmount, setLastCollectedAmount] = useState(null);\n  const chatBoxRef = useRef(null);\n  const location = useLocation();\n  const [topList, setTopList] = useState([]);\n  const [top10Addresses, setTop10Addresses] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [names, setNames] = useState({});\n  const [userNumbers, setUserNumbers] = useState({});\n  const [isSearching, setIsSearching] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [emojiPickerVisible, setEmojiPickerVisible] = useState(false);\n  const [image, setImage] = useState(null);\n  const [giftBalance, setGiftBalance] = useState(0);\n  const [enlargedImage, setEnlargedImage] = useState(null);  // Kép nagyítás állapota\n  const [contract, setContract] = useState<ethers.Contract | null>(null);\n  const [contract2, setContract2] = useState<ethers.Contract | null>(null);\n  const [giftContract, setGiftContract] = useState<ethers.Contract | null>(null);\n  const [tokenContract, setTokenContract] = useState<ethers.Contract | null>(null);\n  const itemsPerPage = 25;\n  const { t } = useTranslation();\n  const [displayedMessages, setDisplayedMessages] = useState(20);\n  const [isTopListVisible, setIsTopListVisible] = useState(false);\n  const contractAddress = '0x674e3eDc898Aa4b486Bd2E5aa2D1C8653677F471';  \n  const contractAddress2 = '0xBE8C7E554C89e064ED7229952036c3678cd10180';\n  const giftAddress = '0xC8B19e19f52CE07bf9c4745caA4aAC87ab199cDD';  \n  const tokenContractAddress = '0xaDAaE082237cB1772c9e079dB95c117E6Dd0C5aF';\n  const fileInputRef = useRef(null);\n   \n  const handleImageClick = (src) => {\n    setEnlargedImage(src);  // Kép forrásának tárolása a modalhoz\n  };\n  \n  const handleModalClose = () => {\n    setEnlargedImage(null);  // Modal bezárása\n  };\n  \n  const handleSendImage = (imageSrc) => {\n    setImage(imageSrc); // Set the selected image for sending\n  };\n const toggleTopList = async () => {\n  if (!isTopListVisible) {\n    // Only fetch top list if it's not already fetched\n    if (topList.length === 0) {\n      const { data, error } = await supabase\n        .from('messages')\n        .select('*')\n        .order('timestamp', { ascending: true });\n\n      if (error) {\n        console.error('Error fetching toplist:', error);\n      } else {\n        calculateTopList(data); // Calculate the toplist once fetched\n      }\n    }\n  }\n  setIsTopListVisible(!isTopListVisible);\n};\n\n\n  useEffect(() => {\n    const initializeContracts = async () => {\n      if (account) {\n        try {\n          const provider = new ethers.providers.Web3Provider((window as any).ethereum);\n          const signer = provider.getSigner();\n      \n          setContract(new ethers.Contract(contractAddress, contractABI, signer));\n          setContract2(new ethers.Contract(contractAddress2, NumberPurchaseABI, signer));\n          setGiftContract(new ethers.Contract(giftAddress, GiftABI, signer));\n          setTokenContract(new ethers.Contract(tokenContractAddress, TokenABI, signer));\n        } catch (error) {\n          console.error('Failed to initialize contracts:', error);\n        }\n      }\n    };\n  \n    initializeContracts();\n  }, [account]);\n  \n  useEffect(() => {\n    const fetchGiftBalance = async () => {\n      if (!tokenContract) return;  // Ellenőrizd, hogy a szerződés létezik-e\n  \n      try {\n        const balance = await tokenContract.balanceOf(giftAddress);\n        const formattedBalance = ethers.utils.formatUnits(balance, 18);\n        setGiftBalance(parseFloat(formattedBalance));\n      } catch (error) {\n        console.error('Error fetching Gift contract balance:', error);\n      }\n    };\n  \n    const fetchLastCollectedData = async () => {\n      if (!giftContract) return;  // Ellenőrizd, hogy a szerződés létezik-e\n  \n      try {\n        const lastCollector = await giftContract.lastCollector();\n        const lastCollectedAmount = await giftContract.lastCollectedAmount();\n        const formattedAmount = ethers.utils.formatUnits(lastCollectedAmount, 18);\n        setLastCollector(lastCollector);\n        setLastCollectedAmount(parseFloat(formattedAmount));\n      } catch (error) { \n        console.error('Error fetching last collected data:', error);\n      } \n    };\n  \n    // Azonnali első lekérdezés\n    fetchGiftBalance();\n    fetchLastCollectedData();\n  \n    // Ismételt lekérdezés 5 másodpercenként\n    const interval = setInterval(() => {\n      fetchGiftBalance();\n      fetchLastCollectedData();\n    }, 5000);\n  \n    // Tisztítás az unmountnál\n    return () => clearInterval(interval);\n  }, [tokenContract, giftContract]);\n  \n  const handleScroll = async (e) => {\n    const chatBox = chatBoxRef.current;\n  \n    // Check if the user has scrolled to the top\n    if (chatBox.scrollTop === 0 && displayedMessages < messages.length) {\n      // Save the current scroll height\n      const currentScrollHeight = chatBox.scrollHeight;\n  \n      // Fetch older messages\n      const { data, error } = await supabase\n        .from('messages')\n        .select('*')\n        .order('timestamp', { ascending: false }) // Fetch older messages\n        .lt('timestamp', messages[0].timestamp) // Fetch messages older than the oldest loaded one\n        .limit(20); // Load 20 more messages\n  \n      if (error) {\n        console.error('Error fetching older messages:', error);\n      } else {\n        // Append the new messages to the start of the list and keep the scroll position intact\n        setMessages((prevMessages) => [...data.reverse(), ...prevMessages]);\n        setDisplayedMessages((prev) => Math.min(prev + 20, messages.length));\n  \n        // Adjust the scroll to stay in the same position\n        setTimeout(() => {\n          const newScrollHeight = chatBox.scrollHeight;\n          chatBox.scrollTop = newScrollHeight - currentScrollHeight;\n        }, 0); // Ensure the scroll position remains the same after the DOM updates\n      }\n    }\n  };\n   \n  \n  const handleDeleteMessage = async (msg) => {\n    if (!window.confirm('Are you sure you want to delete this message?')) {\n      return;\n    }\n  \n    try {\n      const { error } = await supabase\n        .from('messages')\n        .delete()\n        .eq('id', msg.id) // Feltételezve, hogy az üzenetnek van egyedi azonosítója\n        .eq('sender', account); // Csak a saját üzenetedet tudod törölni\n  \n      if (error) {\n        console.error('Error deleting message:', error.message);\n        return;\n      }\n  \n      // Töröljük az üzenetet a helyi állapotból is\n      setMessages(prevMessages => prevMessages.filter(m => m.id !== msg.id));\n    } catch (error) {\n      console.error('Unexpected error deleting message:', error);\n    }\n  };\n  \n\n  const collectTokens = async () => {\n    try {\n      const tx = await giftContract.collect();\n      await tx.wait();\n      alert('Tokens collected successfully!');\n      const lastCollector = await giftContract.lastCollector();\n      const lastCollectedAmount = await giftContract.lastCollectedAmount();\n      const formattedAmount = ethers.utils.formatUnits(lastCollectedAmount, 18);\n      setLastCollector(lastCollector);\n      setLastCollectedAmount(parseFloat(formattedAmount));\n    } catch (error) {\n      console.error('Error collecting tokens:', error);\n      alert('Failed to collect tokens');\n    }\n  };\n\n  useEffect(() => {\n    if (chatBoxRef.current) {\n      chatBoxRef.current.scrollTop = chatBoxRef.current.scrollHeight;\n    }\n  }, [account, messages]); \n\n  useEffect(() => {\n    const fetchMessages = async () => {\n      const { data, error } = await supabase\n        .from('messages')\n        .select('*')\n        .order('timestamp', { ascending: true })\n  \n      if (error) {\n        console.error('Error fetching messages:', error);\n      } else {\n        setMessages(data);\n        calculateTopList(data);\n      }\n    };\n  \n    fetchMessages();\n  }, []);\n  \n  useEffect(() => {\n    const channel = supabase\n      .channel('public:messages')\n      .on('postgres_changes', { event: 'INSERT', schema: 'public', table: 'messages' }, payload => {\n        const newMessage = payload.new;\n        setMessages(prevMessages => {\n          const updatedMessages = [...prevMessages, newMessage];\n          calculateTopList(updatedMessages);\n          return updatedMessages;\n        });\n      })\n      .subscribe();\n    \n    return () => {\n      supabase.removeChannel(channel);\n    };\n  }, []);\n  \n  const userList = useMemo(() => {\n    const usersFromMessages = messages.map(msg => msg.sender);\n    const usersFromTopList = topList.map(([user]) => user);\n    return Array.from(new Set([...usersFromMessages, ...usersFromTopList])); // Egyedi felhasználók összegyűjtése\n  }, [messages, topList]);\n\n  useEffect(() => {\n    if (!account || userList.length === 0) return;\n    \n    const fetchUserData = async () => {\n      const newNames = {};\n      const newNumbers = {};\n    \n      await Promise.all(userList.map(async (user) => {\n        try {\n          const { data: existingData, error: fetchError } = await supabase\n            .from('user_data')\n            .select('*')\n            .eq('account', user)\n            .single();\n    \n          if (fetchError && fetchError.code !== 'PGRST116') {\n            console.error(`Error fetching data from Supabase for ${user}:`, fetchError);\n            return;\n          }\n    \n          if (existingData) {\n            newNames[user] = existingData.name;\n            newNumbers[user] = existingData.number;\n          } else {\n            const name = await contract.getName(user);\n            const userPurchase = await contract2.userPurchases(user);\n            const userNumber = userPurchase.number.toNumber();\n    \n            newNames[user] = name;\n            newNumbers[user] = userNumber;\n    \n            const { error } = await supabase.from('user_data').insert([{ account: user, name, number: userNumber }]);\n            if (error) {\n              console.error(`Error inserting data to Supabase for ${user}:`, error);\n            } else {\n              console.log(`User data inserted to Supabase for ${user} successfully`);\n            }\n          }\n        } catch (error) {\n          console.error(`Error fetching data for ${user}:`, error);\n        }\n      }));\n    \n      setNames(newNames);\n      setUserNumbers(newNumbers);\n    };\n    \n    fetchUserData();\n  }, [account, userList, contract, contract2]);\n    \n  useEffect(() => {\n    if (cooldown > 0) {\n      const timer = setTimeout(() => setCooldown(cooldown - 1), 1000);\n      return () => clearTimeout(timer);\n    }\n    return undefined; // Hozzáadunk egy visszatérési értéket akkor is, ha cooldown <= 0\n  }, [cooldown]);\n  \n  const toggleSearchMode = () => {\n    setIsSearching(!isSearching);\n    setSearchQuery('');\n  };\n\n  const handleSearchInputChange = (e) => {\n    setSearchQuery(e.target.value);\n  };\n\n  const handleImageChange = (e) => {\n    if (e.target.files && e.target.files[0]) {\n      const file = e.target.files[0];\n    \n      if (file.size > 1048576) {\n        alert('The file size must be less than 1 MB.');\n        return;\n      }\n    \n      const reader = new FileReader();\n      reader.onload = (e) => {\n        setImage(e.target.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleSend = async () => {\n    if (cooldown > 0 || !account) return;  // Ensure there is a logged-in user\n  \n    // If there's no text but there is an image, add a zero-width space\n    const messageText = newMessage.trim() || (image ? '\\u200B' : '');\n  \n    if (!messageText && !image) return;  // Ensure that we have either text or an image\n   \n    const message = {\n      text: messageText,  // Use the modified messageText\n      sender: account,\n      image,\n    };\n  \n    const { data, error } = await supabase\n      .from('messages')\n      .insert([message]);\n  \n    if (error) {\n      console.error('Error sending message:', error);\n      alert(`Failed to send message: ${error.message}`);\n    } else {\n      setNewMessage('');\n      setImage(null);\n      setCooldown(20);\n    }\n  };\n  \n\n  const calculateTopList = (messages) => {\n    const userMessageCount = new Map();\n    \n    messages.forEach((msg) => {\n      if (msg.text && msg.text.trim() !== '') {\n        userMessageCount.set(msg.sender, (userMessageCount.get(msg.sender) || 0) + 1);\n      }\n    });\n    \n    const sortedTopList = Array.from(userMessageCount.entries()).sort((a, b) => b[1] - a[1]);\n    setTopList(sortedTopList);\n    \n    const top10 = sortedTopList.slice(0, 25).map(([user]) => user);\n    setTop10Addresses(top10);\n  };\n\n  const handlePageChange = (page) => {\n    setCurrentPage(page);\n  };\n\n  const getSenderName = (sender) => {\n    if (!sender) {\n      return 'Unknown';\n    }\n    \n    if (sender === '0xEa9C8f2D9d91cF44206F0d869b9cc39897a13Ae1') {\n      return 'Admin';\n    }\n    \n    return names[sender] || `${sender.substring(0, 5)}...${sender.substring(sender.length - 5)}`;\n  };\n  \n  const getSenderStyle = (sender) => {\n    if (sender === '0xEa9C8f2D9d91cF44206F0d869b9cc39897a13Ae1') {\n      return { color: 'gold' };\n    }\n    const index = topList.findIndex(([user]) => user === sender);\n    if (index >= 0) {\n      if (index < 25) {\n        return { color: '#ffdc73' };\n      }\n      if (index < 100) {\n        return { color: '#E5E4E2' };\n      }\n      if (index < 250) {\n        return { color: '#cd7f32' };\n      }\n    }\n    return { color: '#fff' };\n  };\n\n  const getSenderImage = (sender) => {\n    const userNumber = userNumbers[sender];\n    \n    if (userNumber) {\n      let formattedNumber;\n  \n      if (userNumber < 10) {\n        // Kétjegyűre formázzuk, ha a szám kisebb, mint 10\n        formattedNumber = userNumber.toString().padStart(2, '0');\n      } else {\n        // Háromjegyűre formázzuk, ha a szám 10 vagy nagyobb\n        formattedNumber = userNumber.toString().padStart(3, '0');\n      }\n  \n      return `images/pixel/${formattedNumber}.jpg`;\n    }\n  \n    return 'images/pixel/200.png';  // Alapértelmezett kép, ha nincs szám\n  };\n  \n\n  const formatTimestamp = (timestamp) => {\n    const date = new Date(timestamp); // Eredeti UTC idő\n    const timeString = date.toLocaleTimeString(navigator.language, {\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit',\n      hour12: false,\n    });\n    const dateString = date.toLocaleDateString(navigator.language, {\n      month: 'long',     // Hónap neve\n      day: 'numeric',    // Nap\n    });\n    return `${timeString}, ${dateString}`;\n  };\n  \n  const startIndex = (currentPage - 1) * itemsPerPage;\n  const endIndex = startIndex + itemsPerPage;\n  const currentItems = topList.slice(startIndex, endIndex);\n\n  const totalPages = Math.ceil(topList.length / itemsPerPage);\n\n  const getPageNumbers = () => {\n    const pageNumbers = [];\n    const maxPageNumbers = 3;\n    const startPage = currentPage;\n\n    for (let i = 0; i < maxPageNumbers && startPage + i <= totalPages; i++) {\n      pageNumbers.push(startPage + i);\n    }\n\n    return pageNumbers;\n  };\n  \n  const getActiveIndex = (pathname) => {\n    if (\n      pathname.includes('/lockedstaking/all') ||\n      pathname.includes('/lockedstaking/history')\n    ) {\n      return 1;\n    }\n    return 0;\n  };\n\n  const filteredTopList = topList.filter(([user]) => {\n    if (!searchQuery) return true;\n    const userName = getSenderName(user);\n    return userName.toLowerCase().includes(searchQuery.toLowerCase()) || user.toLowerCase().includes(searchQuery.toLowerCase());\n  });\n\n  const filteredMessages = messages.filter((msg) =>\n    msg.text && msg.text.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  return (\n    <Container>\n  \n                    <FarmsPoolsRowLoader />\n          <Title>VizslaChat</Title>\n          <Flex alignItems=\"center\" justifyContent=\"center\" >\n            <ButtonMenu activeIndex={getActiveIndex(location.pathname)} scale=\"sm\" variant=\"subtle\">\n              <ButtonMenuItem id=\"swap-nav-link\" to=\"/chat\" as={Link}>\n                {t('Public')}\n              </ButtonMenuItem>\n              <ButtonMenuItem id=\"swap-nav-link\" to=\"/privatechat\" as={Link} mt=\"4px\">\n                {t('Private')}\n              </ButtonMenuItem> \n              <ButtonMenuItem id=\"swap-nav-link\" to=\"/settings\" as={Link} mt=\"4px\">\n                {t('Settings')}\n              </ButtonMenuItem> \n            </ButtonMenu>\n          </Flex>\n          {account ? (\n        <>\n        <ChatBox ref={chatBoxRef} onScroll={handleScroll}>\n  {filteredMessages.slice(-displayedMessages).map((msg) => (\n    <div key={msg.id} style={styles.messageContainer}>\n      {/* Feladó képe */}\n      <img src={getSenderImage(msg.sender)} alt=\"sender\" style={styles.avatar} />\n      {/* Üzenet szövege és szemetes ikon flexbox-szal elrendezve */}\n      <div style={{ ...styles.message, display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n        {/* Bal oldalon az üzenet és az időbélyeg */}\n        <div>\n          <b style={getSenderStyle(msg.sender)}>{getSenderName(msg.sender)}:</b> {msg.text}\n          {msg.image && (\n            <Button\n              style={{ background: 'none', border: 'none', padding: '0', cursor: 'pointer' }}\n              onClick={() => handleImageClick(msg.image)}\n              onKeyDown={(e) => {\n                if (e.key === 'Enter' || e.key === ' ') {\n                  handleImageClick(msg.image);\n                }\n              }}\n            >\n              <img\n                src={msg.image}\n                alt=\"sent\"\n                style={{\n                  maxWidth: '100px',\n                  maxHeight: '100px',\n                  objectFit: 'contain',\n                  marginTop: '20px',\n                }}\n              />\n            </Button>\n          )}\n          {/* Timestamp az üzenet alatt */}\n          <span style={styles.timestamp}>{formatTimestamp(msg.timestamp)}</span>\n        </div>\n        {/* Szemetes ikon csak a saját üzenetekhez */}\n        {msg.sender.toLowerCase() === account.toLowerCase() && (\n          <Button\n            onClick={() => handleDeleteMessage(msg)}\n            style={{\n              background: 'none',\n              border: 'none',\n              cursor: 'pointer',\n              padding: '0',\n              marginLeft: '10px', // Kis térköz a szemetes ikon előtt\n              fontSize: styles.timestamp.fontSize, // Ugyanakkora méretű lesz, mint a timestamp\n              display: 'inline-flex', // Inline marad a szöveggel\n              alignItems: 'center', // Középre igazítás\n            }}\n          >\n            🗑️\n          </Button>\n        )}\n      </div>\n    </div>\n  ))}\n  \n  {giftBalance > 199 && (\n    <Flex alignItems=\"left\" justifyContent=\"left\">\n      <Button variant=\"gold\" onClick={collectTokens}>\n        <Flex flexDirection=\"column\">\n          <Text>Collect: {giftBalance} VIZSLASWAP 🎉</Text>\n          <Text fontSize=\"11px\" color=\"gray.500\">\n            Only for users with a profile picture\n          </Text>\n        </Flex>\n      </Button>\n    </Flex>\n  )}\n</ChatBox>\n\n  \n          <div style={styles.inputRow}>\n            <Flex alignItems=\"center\" justifyContent=\"center\">\n              <Input\n                type=\"text\"\n                value={isSearching ? searchQuery : newMessage}\n                onChange={isSearching ? handleSearchInputChange : (e) => setNewMessage(e.target.value)}\n                onKeyDown={(e) => {\n                  if (e.key === 'Enter' && !isSearching && cooldown === 0) {\n                    handleSend();\n                  }\n                }}\n                style={styles.input}\n                placeholder={isSearching ? 'Search in chatbox...' : (cooldown > 0 ? `Cooldown: ${cooldown}s` : 'Type a message')}\n                disabled={cooldown > 0 && !isSearching}\n              />\n              <Button onClick={handleSend} style={styles.sendButton} disabled={cooldown > 0}>\n                Send\n              </Button>\n              <Button onClick={() => setEmojiPickerVisible(!emojiPickerVisible)} style={styles.emojiButton}>\n                😊\n              </Button>\n              <Button onClick={toggleSearchMode} style={styles.searchButton}>\n                {isSearching ? 'X' : '🔍'}\n              </Button>\n              <Button \n                onClick={() => fileInputRef.current.click()} \n                style={styles.fileButton}>\n                📤\n              </Button>\n            </Flex>\n            {image && (\n  <div style={styles.previewContainer}> \n    <Text style={styles.previewText}>Image selected:</Text>\n    <img src={image} alt=\"Preview\" style={styles.previewImage} />\n    <Button onClick={() => setImage(null)} style={styles.deleteButton}>\n      ❌ \n    </Button>\n  </div>\n)}\n\n          </div>\n  \n          <input\n            type=\"file\"\n            accept=\"image/*\"\n            ref={fileInputRef}\n            style={{ display: 'none' }}\n            onChange={handleImageChange}\n          />\n\n          {emojiPickerVisible && (\n            <EmojiPicker \n              setNewMessage={setNewMessage} \n              newMessage={newMessage} \n              handleSendImage={handleSendImage}  // Pass handleSendImage\n            />\n          )}\n          <Flex alignItems=\"right\" justifyContent=\"right\">\n            <Gift />\n          </Flex>\n          <Flex alignItems=\"right\" justifyContent=\"right\">\n            {lastCollector && lastCollectedAmount && (\n              <div style={styles.lastCollectedInfo}>\n                <Text bold fontSize='13px'>Last gift collected by:</Text>\n                <Text bold fontSize='13px'>{lastCollector}</Text>\n                <Text bold fontSize='13px'>Amount: {lastCollectedAmount} VIZSLASWAP</Text>\n              </div>\n            )}\n          </Flex>\n          <div style={styles.topListBox}>\n    <TopListTitle onClick={toggleTopList}>\n        {isTopListVisible ? 'Hide Top List' : 'Show Top List'}\n    </TopListTitle>\n\n    {isTopListVisible && (\n        <>\n            <Input\n                type=\"text\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                style={styles.input}\n                placeholder=\"Search by name or address\"\n            />\n            <ul style={styles.topList}>\n                {filteredTopList.slice(startIndex, endIndex).map(([user, count], index) => (\n                    <li key={user} style={getSenderStyle(user)}>\n                        <img src={getSenderImage(user)} alt=\"position\" style={styles.topListImage} />\n                        {startIndex + index + 1}. {getSenderName(user)}\n                        <br />\n                        {user}: {count} messages\n                    </li>\n                ))}\n            </ul>\n            <div>\n                {currentPage > 1 && (\n                    <Button onClick={() => handlePageChange(currentPage - 1)} style={styles.paginationButton}>\n                        Previous\n                    </Button>\n                )}\n                {getPageNumbers().map((pageNumber) => (\n                    <Button\n                        key={pageNumber}\n                        onClick={() => handlePageChange(pageNumber)}\n                        style={styles.paginationButton}\n                    >\n                        {pageNumber}\n                    </Button>\n                ))}\n                {currentPage < totalPages && (\n                    <Button onClick={() => handlePageChange(currentPage + 1)} style={styles.paginationButton}>\n                        Next\n                    </Button>\n                )}\n            </div>\n        </>\n    )}\n</div>\n{enlargedImage && (\n  <div\n    style={{\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      backgroundColor: 'rgba(0, 0, 0, 0.8)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      zIndex: 1000,\n    }}\n    onClick={handleModalClose}\n    role=\"button\"\n    tabIndex=\"0\"\n    onKeyDown={(e) => {\n      if (e.key === 'Enter' || e.key === ' ') {\n        handleModalClose();\n      }\n    }}\n  >\n    <img\n      src={enlargedImage}\n      alt=\"Enlarged\"\n      style={{ maxWidth: '90%', maxHeight: '90%', cursor: 'pointer' }}\n    />\n  </div>\n)}\n\n        </>\n      ) : (\n        <ConnectWalletButton />\n      )}\n    </Container>\n  );\n};\n\nexport default Profile;\n"],"sourceRoot":""}