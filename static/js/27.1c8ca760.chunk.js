(this["webpackJsonppancake-frontend"]=this["webpackJsonppancake-frontend"]||[]).push([[27],{1764:function(e,n,t){"use strict";t.r(n);var r,a,i,o,c,s,l,p,d,u,x,g,f=t(10),b=t(9),m=t(3),j=t.n(m),h=t(27),O=t(7),k=t(6),y=t(2),w=t(141),v=t(46),C=t(48),S=t(8),L=t(1),z=t(88),I=t(154),R=t(0),E={emojiPicker:{marginTop:"10px",display:"flex",flexDirection:"column",alignItems:"center",padding:"10px",border:"2px solid #5a9f98",borderRadius:"8px",backgroundColor:"#000",color:"#fff"},toggleButton:{fontSize:"14px",margin:"10px 0",padding:"5px",cursor:"pointer",backgroundColor:"#5a9f98",border:"none",borderRadius:"4px",color:"#fff"},pickerContainer:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"5px"},emojiButton:{fontSize:"24px",cursor:"pointer",background:"none",border:"none",padding:"10px",display:"inline-block",width:"45px",height:"45px",textAlign:"center"},imageButton:{background:"none",border:"none",padding:"0",display:"inline-block",width:"55px",height:"55px",cursor:"pointer"}},B=function(e){var n=e.setNewMessage,t=e.newMessage,r=e.handleSendImage,a=Object(y.useState)(!0),i=Object(k.a)(a,2),o=i[0],c=i[1];return Object(R.jsxs)("div",{style:E.emojiPicker,children:[Object(R.jsx)(L.m,{onClick:function(){c(!o)},style:E.toggleButton,children:o?"Switch to Stickers":"Switch to Emojis"}),Object(R.jsx)("div",{style:E.pickerContainer,children:o?["\ud83d\ude0a","\ud83d\ude02","\ud83d\ude22","\ud83d\ude0d","\ud83d\ude0e","\ud83c\udf89","\ud83c\udf81","\ud83d\ude1c","\ud83e\udd14","\ud83d\ude07","\ud83d\ude43","\ud83d\ude05","\ud83e\udd23","\ud83e\udd29","\ud83d\ude21","\ud83e\udd73","\ud83e\udd2f","\ud83d\ude31","\ud83e\udd17","\ud83d\ude0f","\ud83d\ude34","\ud83e\udd24","\ud83d\ude37","\ud83e\udd12","\ud83e\udd15","\ud83e\udd2e","\ud83e\udd11","\ud83d\ude08","\ud83d\udc7b","\ud83d\udca9","\ud83d\ude3a","\ud83d\udc40","\ud83d\udcaa","\ud83d\ude4f","\ud83d\udc4f","\ud83d\ude4c","\ud83d\udc50","\u270c\ufe0f","\ud83d\udc4d","\ud83d\udc4e","\ud83d\udc4a","\ud83e\udd1f"].map((function(e){return Object(R.jsx)(L.m,{onClick:function(){return n("".concat(t).concat(e))},style:E.emojiButton,children:e},e)})):["images/pixel/L/10.png","images/pixel/L/28.png","images/pixel/L/0.png","images/pixel/L/1.png","images/pixel/L/18.png","images/pixel/L/15.png","images/pixel/L/19.png","images/pixel/L/21.png","images/pixel/L/7.png","images/pixel/L/11.png","images/pixel/L/8.png","images/pixel/L/29.png","images/pixel/L/30.png","images/pixel/L/31.png","images/pixel/L/20.png","images/pixel/L/6.png","images/pixel/L/9.png","images/pixel/L/32.png","images/pixel/L/33.png","images/pixel/L/34.png","images/pixel/L/27.png","images/pixel/L/2.png","images/pixel/L/3.png","images/pixel/L/4.png","images/pixel/L/5.png","images/pixel/L/16.png","images/pixel/L/24.png","images/pixel/L/25.png","images/pixel/L/22.png","images/pixel/L/14.png","images/pixel/L/23.png","images/pixel/L/26.png","images/pixel/L/12.png","images/pixel/L/13.png","images/pixel/L/17.png"].map((function(e){return Object(R.jsx)(L.m,{onClick:function(){return r(e)},style:E.imageButton,children:Object(R.jsx)("img",{src:e,alt:"sticker",style:{width:"55px",height:"55px"}})},e)}))})]})},T={reactionPicker:{display:"flex",flexWrap:"wrap",justifyContent:"center",padding:"10px",border:"1px solid #ccc",borderRadius:"8px",backgroundColor:"#000",maxWidth:"200px",margin:"10px auto"},reactionButton:{fontSize:"24px",cursor:"pointer",background:"none",border:"none",padding:"8px",display:"inline-block",textAlign:"center"}},D=function(e){var n=e.onReactionSelect;return Object(R.jsx)("div",{style:T.reactionPicker,children:["\ud83d\ude0a","\ud83d\ude02","\u2764\ufe0f","\ud83d\udc4d","\ud83c\udf89","\ud83d\ude22","\ud83e\udd14","\ud83d\udd25","\ud83d\udc4f","\ud83d\ude0e","\ud83d\udcaf","\ud83d\ude4f","\ud83e\udd73","\ud83d\ude0d","\ud83d\ude2d","\ud83e\udd2f","\ud83d\ude21","\ud83d\udc40","\ud83d\udcaa","\ud83d\udc4c","\ud83d\ude4c","\ud83d\ude18","\ud83d\udc94","\ud83d\ude34","\ud83d\ude05","\ud83e\udd17","\ud83c\udf1f","\ud83c\udf88","\ud83e\udd1e","\ud83c\udf82","\ud83e\udd11","\ud83d\ude06","\ud83d\ude0b","\ud83e\udd29","\ud83e\udd70","\ud83d\udda4","\ud83d\ude07","\ud83d\ude1c","\ud83d\ude31","\ud83c\udf39","\ud83d\ude1d","\ud83d\ude0f","\ud83d\udc4b","\ud83d\ude24","\ud83d\udc51","\u270c\ufe0f","\ud83e\udd7a","\ud83e\udd24","\ud83d\ude03","\ud83e\udd1d"].map((function(e){return Object(R.jsx)(L.m,{onClick:function(){return n(e)},style:T.reactionButton,children:e},e)}))})},F=t(5),A=t(4),M=Object(A.f)(r||(r=Object(F.a)(["\n0% {\n  box-shadow: 0 0 1px #62d5a3, 0 0 2px #62d5a3, 0 0 3px #62d5a3, 0 0 4px #62d5a3;\n}\n25% {\n  box-shadow: 0 0 2px #62d5a3, 0 0 3px #62d5a3, 0 0 4px #62d5a3, 0 0 5px #62d5a3;\n}\n50% {\n  box-shadow: 0 0 1px #62d5a3, 0 0 1.5px #62d5a3, 0 0 2,5px #62d5a3, 0 0 3.5px #62d5a3;\n}\n75% {\n  box-shadow: 0 0 3px #62d5a3, 0 0 4px #62d5a3, 0 0 5px #62d5a3, 0 0 6px #62d5a3;\n}\n100% {\n  box-shadow: 0 0 0.5px #62d5a3, 0 0 1px #62d5a3, 0 0 1.5px #62d5a3, 0 0 2px #62d5a3;\n}\n"]))),J=Object(A.f)(a||(a=Object(F.a)(["\n  0% {\n    text-shadow: 0 0 2.5px #62d5a3, 0 0 5px #62d5a3, 0 0 7.5px #62d5a3, 0 0 10px #62d5a3;\n  }\n  50% {\n    text-shadow: 0 0 2.5px #62d5a3, 0 0 5px #62d5a3, 0 0 7.5px #62d5a3, 0 0 10px #62d5a3;\n  }\n  100% {\n    text-shadow: 0 0 2.5px #62d5a3, 0 0 5px #62d5a3, 0 0 7.5px #62d5a3, 0 0 10px #62d5a3;\n  }\n"]))),H=Object(A.f)(i||(i=Object(F.a)(["\n  0% {\n    transform: translateX(0);\n    box-shadow: 0 0 5px rgba(255, 255, 255, 0.3);\n  }\n  100% {\n    transform: translateX(0);\n    box-shadow: 0 0 15px rgba(255, 255, 255, 0.7);\n  }\n"]))),W=Object(A.f)(o||(o=Object(F.a)(["\n  0% {\n    transform: translateX(0);\n    box-shadow: 0 0 5px rgba(83, 178, 140, 0.3);\n  }\n  100% {\n    transform: translateX(0);\n    box-shadow: 0 0 15px rgba(83, 178, 140, 0.7);\n  }\n"]))),X=Object(A.f)(c||(c=Object(F.a)(["\n  0% {\n    border-color: #62d5a3;\n    box-shadow: 0 0 5px #62d5a3;\n  }\n  50% {\n    border-color: #4abf88;\n    box-shadow: 0 0 15px #4abf88;\n  }\n  100% {\n    border-color: #62d5a3;\n    box-shadow: 0 0 5px #62d5a3;\n  }\n"]))),q=A.e.div(s||(s=Object(F.a)(["\n  width: 100%;\n  height: 350px;\n    margin-top: 20px;\n  overflow-y: scroll;\n  margin-bottom: 10px;\n  padding: 10px;\n  border: 2px solid #5a9f98;\n  border-radius: 8px;\n  background-color: #000;\n  color: #fff;\n  flex-direction: column-reverse;\n  animation: "," 2s infinite;\n"])),X),P=A.e.input(l||(l=Object(F.a)(["\n  color: ",";\n  width: 0;\n  position: relative;\n  font-weight: 500;\n  max-width: 400px\n  outline: none;\n  border: none;\n  flex: 1 1 auto;\n  background-color: transparent;\n  font-size: ",";\n  text-align: ",";\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding: 0px;\n  -webkit-appearance: textfield;\n  transition: all 0.3s ease;\n\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n\n  [type='number'] {\n    -moz-appearance: textfield;\n  }\n\n  ::-webkit-outer-spin-button,\n  ::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n  }\n\n  ::placeholder {\n    color: ",";\n  }\n\n  animation: "," 0.5s forwards;\n\n  &:hover {\n    animation: "," 0.5s forwards;\n  }\n\n  &:focus {\n    animation: "," 0.5s forwards;\n    background-color: ",";\n  }\n"])),(function(e){var n=e.error,t=e.theme;return n?t.colors.failure:t.colors.text}),(function(e){return e.fontSize||"16px"}),(function(e){return e.align||"left"}),(function(e){return e.theme.colors.primary}),(function(e){return e.isActive?W:H}),(function(e){return e.isActive?W:H}),W,(function(e){return e.theme.colors.background})),U=A.e.div(p||(p=Object(F.a)(["\n  padding: 20px;\n  max-width: 100%;\n   border-radius: 15px;\n  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);\n  overflow: hidden;\n  margin-bottom: 300px;\n  color: #fff;\n"]))),Z=Object(A.e)(L.zb)(d||(d=Object(F.a)(["\n  text-align: center;\n  color: #fff;\n  font-size: 55px;\n  font-weight: bold; /* Make the text thicker */\n    animation: "," 2s infinite; /* Alkalmazzuk az anim\xe1ci\xf3t */\n"])),J),K=(Object(A.e)(L.zb)(u||(u=Object(F.a)(["\n  text-align: center;\n  color: #fff;\n  font-size: 28px;\n  font-weight: bold; /* Make the text thicker */\n    animation: "," 2s infinite; /* Alkalmazzuk az anim\xe1ci\xf3t */\n"])),J),Object(A.e)(L.l)(x||(x=Object(F.a)(["\n    animation: "," 0.5s infinite; /* Alkalmazzuk az anim\xe1ci\xf3t */\n"])),M),Object(A.e)(L.zb)(g||(g=Object(F.a)(["\n  text-align: center;\n  color: #fff;\n    margin-top: 20px; // Ugyanaz a t\xe1vols\xe1g a toplist\xe1t\xf3l, mint a chatboxt\xf3l\n  font-size: 28px;\n  margin-bottom: 20px; // Ugyanaz a t\xe1vols\xe1g a toplist\xe1t\xf3l, mint a chatboxt\xf3l\n    animation: "," 2s infinite; /* Alkalmazzuk az anim\xe1ci\xf3t */\n"])),J),{container:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",maxWidth:"1200px",margin:"0 auto",padding:"20px",borderRadius:"15px",color:"#e5e5e5",position:"relative",overflow:"hidden"},deleteButton:{marginLeft:"10px",background:"transparent",border:"none",cursor:"pointer",fontSize:"18px",color:"#ff0000"},languageButton:{background:"transparent",border:"none",padding:"0",cursor:"pointer"},fileButton:{marginLeft:"5px",padding:"8px",backgroundColor:"#5a9f98",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"20px"},chatBox:{width:"100%",height:"300px",overflowY:"scroll",marginBottom:"10px",padding:"10px",border:"2px solid #5a9f98",borderRadius:"8px",backgroundColor:"#000",color:"#fff",flexDirection:"column-reverse"},messageContainer:{display:"flex",alignItems:"center",padding:"5px 0"},emojiFileContainer:{display:"flex",alignItems:"center",marginTop:"10px"},avatar:{width:"45px",height:"45px",marginRight:"10px",borderRadius:"25%"},message:{flex:1},inputContainer:{display:"flex",alignItems:"center"},input:{width:"100%",padding:"10px",marginBottom:"10px",borderRadius:"4px",backgroundColor:"#000",color:"#fff"},searchButton:{marginLeft:"5px",padding:"8px",backgroundColor:"#5a9f98",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},emojiButton:{marginLeft:"5px",padding:"8px",backgroundColor:"#5a9f98",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},sendButton:{marginLeft:"5px",padding:"8px",backgroundColor:"#5a9f98",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},sentImage:{maxWidth:"100px",maxHeight:"100px",height:"auto",width:"auto",marginTop:"10px",borderRadius:"8px"},fileInput:{color:"#fff",cursor:"pointer",width:"100%",backgroundColor:"#000",borderRadius:"4px",padding:"10px",border:"none"},previewContainer:{display:"flex",alignItems:"center",marginTop:"10px"},previewText:{marginRight:"10px",color:"#fff"},previewImage:{maxWidth:"100px",maxHeight:"100px",borderRadius:"8px"},topListBox:{width:"100%",display:"block",alignItems:"center",justifyContent:"center",padding:"10px",border:"2px solid #5a9f98",borderRadius:"8px",backgroundColor:"#000",color:"#fff",marginTop:"40px",textAlign:"center"},topList:{listStyle:"none",display:"block",padding:"0",margin:"10px 0",width:"100%"},topListImage:{width:"40px",height:"40px",borderRadius:"25%",marginRight:"10px"},inputRow:{display:"block",width:"100%",marginBottom:"10px"},fileContainer:{alignItems:"left",width:"100%",marginTop:"10px",padding:"10px",border:"2px solid #5a9f98",borderRadius:"8px",backgroundColor:"#000",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)"},timestamp:{display:"block",fontSize:"0.8em",color:"#aaa",marginTop:"5px"},paginationButton:{margin:"5px",backgroundColor:"#333",color:"#fff"},lastCollectedInfo:{fontSize:"8px",textAlign:"right",color:"#fff"},collectButton:{marginTop:"10px",padding:"10px",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"}}),N=Object(I.a)("https://rnqfqzizhqagofcohjvk.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJucWZxeml6aHFhZ29mY29oanZrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjM0MTI3ODQsImV4cCI6MjAzODk4ODc4NH0.6hfjMYZUgeN8pl25jl8XVbkOX-aszET6MhUEVelfh_E");n.default=function(){var e=Object(C.useWeb3React)().account,n=Object(y.useState)([]),t=Object(k.a)(n,2),r=t[0],a=t[1],i=Object(y.useState)(""),o=Object(k.a)(i,2),c=o[0],s=o[1],l=Object(y.useState)(0),p=Object(k.a)(l,2),d=p[0],u=p[1],x=Object(y.useRef)(null),g=(Object(w.h)(),Object(y.useState)([])),m=Object(k.a)(g,2),I=m[0],E=(m[1],Object(y.useState)("hu")),T=Object(k.a)(E,2),F=T[0],A=T[1],M=function(e){A(e)},J=Object(y.useState)(1),H=Object(k.a)(J,2),W=H[0],X=(H[1],Object(y.useState)({})),V=Object(k.a)(X,2),Y=V[0],_=V[1],G=Object(y.useState)({}),Q=Object(k.a)(G,2),$=Q[0],ee=Q[1],ne=Object(y.useState)(!1),te=Object(k.a)(ne,2),re=te[0],ae=(te[1],Object(y.useState)("")),ie=Object(k.a)(ae,2),oe=ie[0],ce=ie[1],se=Object(y.useState)(!1),le=Object(k.a)(se,2),pe=le[0],de=le[1],ue=Object(y.useState)(null),xe=Object(k.a)(ue,2),ge=xe[0],fe=xe[1],be=Object(y.useState)(null),me=Object(k.a)(be,2),je=me[0],he=me[1],Oe=Object(y.useState)(null),ke=Object(k.a)(Oe,2),ye=ke[0],we=ke[1],ve=Object(y.useState)(!1),Ce=Object(k.a)(ve,2),Se=Ce[0],Le=Ce[1],ze=(Object(S.b)().t,Object(y.useState)(20)),Ie=Object(k.a)(ze,2),Re=Ie[0],Ee=Ie[1],Be=Object(y.useRef)(null),Te=function(e){we(e)},De=function(){we(null)},Fe=function(){var e=Object(O.a)(j.a.mark((function e(n){var t,i,o,c,s,l,p;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=x.current,!(Re>=100)){e.next=3;break}return e.abrupt("return");case 3:if(!(0===t.scrollTop&&Re<Math.min(100,r.length))){e.next=12;break}return o=t.scrollHeight,c=null===(i=r[0])||void 0===i?void 0:i.timestamp,e.next=8,N.from("messages").select("*").order("timestamp",{ascending:!1}).lt("timestamp",c).limit(20);case 8:s=e.sent,l=s.data,(p=s.error)?console.error("Error fetching older messages:",p):(a((function(e){return[].concat(Object(h.a)(l.reverse()),Object(h.a)(e)).slice(-100)})),Ee((function(e){return Math.min(e+20,Math.min(100,r.length))})),setTimeout((function(){var e=t.scrollHeight;t.scrollTop=e-o}),0));case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ae=function(){var n=Object(O.a)(j.a.mark((function n(t){var r,i;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(window.confirm("Are you sure you want to delete this message?")){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,N.from("messages").delete().eq("id",t.id).eq("sender",e);case 5:if(r=n.sent,!(i=r.error)){n.next=10;break}return console.error("Error deleting message:",i.message),n.abrupt("return");case 10:a((function(e){return e.filter((function(e){return e.id!==t.id}))})),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(2),console.error("Unexpected error deleting message:",n.t0);case 16:case"end":return n.stop()}}),n,null,[[2,13]])})));return function(e){return n.apply(this,arguments)}}(),Me=function(e){he((function(n){return n===e?null:e}))};Object(y.useEffect)((function(){x.current&&(x.current.scrollTop=x.current.scrollHeight)}),[e,r,F]),Object(y.useEffect)((function(){(function(){var e=Object(O.a)(j.a.mark((function e(){var n,t,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.from("messages").select("*, reactions").order("timestamp",{ascending:!1}).limit(100);case 2:n=e.sent,t=n.data,(r=n.error)?console.error("Error fetching messages:",r):a(t.reverse().slice(-100));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(y.useEffect)((function(){var e=N.channel("public:messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},(function(e){var n=e.new;a((function(e){return[].concat(Object(h.a)(e),[n])}))})).subscribe();return function(){N.removeChannel(e)}}),[]);var Je=Object(y.useMemo)((function(){var e=r.map((function(e){return e.sender})),n=I.map((function(e){return Object(k.a)(e,1)[0]}));return Array.from(new Set([].concat(Object(h.a)(e),Object(h.a)(n))))}),[r,I]);Object(y.useEffect)((function(){e&&0!==Je.length&&function(){var e=Object(O.a)(j.a.mark((function e(){var n,t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},t={},e.next=4,Promise.all(Je.map(function(){var e=Object(O.a)(j.a.mark((function e(r){var a,i,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.from("user_data").select("*").eq("account",r).single();case 3:if(a=e.sent,i=a.data,!(o=a.error)||"PGRST116"===o.code){e.next=9;break}return console.error("Error fetching data from Supabase for ".concat(r,":"),o),e.abrupt("return");case 9:i&&(n[r]=i.name,t[r]=i.number),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error fetching data for ".concat(r,":"),e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n){return e.apply(this,arguments)}}()));case 4:_(n),ee(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[e,Je]),Object(y.useEffect)((function(){if(d>0){var e=setTimeout((function(){return u(d-1)}),1e3);return function(){return clearTimeout(e)}}}),[d]);var He=function(){var n=Object(O.a)(j.a.mark((function n(t,r){var i,o,c,s,l,p;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,N.from("messages").select("reactions").eq("id",t).single();case 2:if(i=n.sent,o=i.data,!(c=i.error)){n.next=8;break}return console.error("Error fetching reactions:",c),n.abrupt("return");case 8:return(s=o.reactions||{})[e]===r?delete s[e]:s[e]=r,n.next=12,N.from("messages").update({reactions:s}).eq("id",t);case 12:l=n.sent,(p=l.error)?console.error("Error updating reactions:",p):a((function(e){return e.map((function(e){return e.id===t?Object(b.a)(Object(b.a)({},e),{},{reactions:s}):e}))}));case 15:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),We=function(){var n=Object(O.a)(j.a.mark((function n(){var t,r,a,i;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(d>0)&&e){n.next=2;break}return n.abrupt("return");case 2:if((t=c.trim()||(ge?"\u200b":""))||ge){n.next=5;break}return n.abrupt("return");case 5:return r={text:t,sender:e,image:ge,language:F},n.next=8,N.from("messages").insert([r]);case 8:a=n.sent,a.data,(i=a.error)?(console.error("Error sending message:",i),alert("Failed to send message: ".concat(i.message))):(s(""),fe(null),u(20));case 12:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Xe=function(e){return e?"0xEa9C8f2D9d91cF44206F0d869b9cc39897a13Ae1"===e?"Admin":Y[e]||"".concat(e.substring(0,5),"...").concat(e.substring(e.length-5)):"Unknown"},qe=function(e){var n,t=$[e];return t?(n=t<10?t.toString().padStart(2,"0"):t.toString().padStart(3,"0"),"images/pixel/".concat(n,".jpg")):"images/pixel/200.png"},Pe=function(e){var n=new Date(e),t=n.toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),r=n.toLocaleDateString(navigator.language,{month:"long",day:"numeric"});return"".concat(t,", ").concat(r)},Ue=25*(W-1),Ze=Ue+25,Ke=(I.slice(Ue,Ze),Math.ceil(I.length/25),r.filter((function(e){return e.language===F})));return Object(R.jsx)(R.Fragment,{children:e?Object(R.jsxs)(U,{children:[Object(R.jsxs)(L.J,{alignItems:"center",justifyContent:"space-between",style:{padding:"10px",backgroundColor:"#000",borderRadius:"10px"},children:[Object(R.jsx)(Z,{style:{fontSize:"28px",fontWeight:"bold",color:"#fff",textAlign:"center"},children:"VizslaChat"}),Object(R.jsxs)(L.J,{alignItems:"center",children:[Object(R.jsxs)("div",{style:{position:"relative",marginRight:"10px"},children:[Object(R.jsxs)(L.m,{onClick:function(){return Le(!Se)},style:{backgroundColor:"transparent",color:"#fff",border:"1px solid #fff",padding:"5px 10px",cursor:"pointer",display:"flex",alignItems:"center"},children:[Object(R.jsx)("img",{src:"hu"===F?"images/pixel/777.png":"images/pixel/776.png",alt:"hu"===F?"Hungarian Flag":"English Flag",style:{width:"20px"}}),Object(R.jsx)("span",{style:{marginLeft:"8px"},children:Se?"\u25b2":"\u25bc"})]}),Se&&Object(R.jsx)("div",{style:{position:"absolute",top:"100%",right:0,backgroundColor:"#000",padding:"10px",border:"1px solid #ddd",borderRadius:"5px",zIndex:1e3},children:"hu"===F?Object(R.jsx)("div",{style:{cursor:"pointer",color:"#fff"},onClick:function(){return M("en")},onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||M("en")},role:"button",tabIndex:0,children:Object(R.jsx)("img",{src:"images/pixel/776.png",alt:"English Flag",style:{width:"20px",marginRight:"5px"}})}):Object(R.jsx)("div",{style:{cursor:"pointer",color:"#fff"},onClick:function(){return M("hu")},onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||M("hu")},role:"button",tabIndex:0,children:Object(R.jsx)("img",{src:"images/pixel/777.png",alt:"Hungarian Flag",style:{width:"20px",marginRight:"5px"}})})})]}),Object(R.jsx)(v.a,{to:"/privatechat",style:{textDecoration:"none"},children:Object(R.jsx)(L.m,{style:{backgroundColor:"transparent",color:"#fff",border:"1px solid gold",padding:"5px 10px",marginRight:"5px",cursor:"pointer"},children:"PrivateChat"})}),Object(R.jsx)(v.a,{to:"/settings",style:{textDecoration:"none"},children:Object(R.jsx)(L.m,{style:{backgroundColor:"transparent",color:"gold",border:"none",padding:"5px",cursor:"pointer"},children:"\u2699\ufe0f"})})]})]}),Object(R.jsx)(q,{ref:x,onScroll:Fe,children:Ke.slice(-Re).map((function(n){return Object(R.jsxs)("div",{style:Object(b.a)(Object(b.a)({},K.messageContainer),{},{backgroundColor:je===n.id?"#000000":"#111111",borderRadius:"20px",padding:"10px",marginBottom:"10px"}),onClick:function(){return Me(n.id)},onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||Me(n.id)},role:"button",tabIndex:0,children:[Object(R.jsx)("img",{src:qe(n.sender),alt:"sender",style:K.avatar}),Object(R.jsxs)("div",{style:Object(b.a)(Object(b.a)({},K.message),{},{display:"flex",justifyContent:"space-between",alignItems:"center"}),children:[Object(R.jsxs)("div",{children:[Object(R.jsxs)("b",{style:(t=n.sender,"0xEa9C8f2D9d91cF44206F0d869b9cc39897a13Ae1"===t||"0xde6c77ac73661e5df07b6ed464d21c41d3d6d94b"===t?{color:"gold"}:"0x024887Ddd168caDf24e582F85bf952b0dF47E815"===t?{color:"#4169e1"}:"0x533E4503572A01FEED9ABa72761555D7f62998c3"===t?{color:"#BFFF00"}:{color:"#E5E4E2"}),children:[Xe(n.sender),":"]})," ",n.text,n.image&&Object(R.jsx)(L.m,{style:{background:"none",border:"none",padding:"0",cursor:"pointer"},onClick:function(){return Te(n.image)},onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||Te(n.image)},children:Object(R.jsx)("img",{src:n.image,alt:"sent",style:{maxWidth:"100px",maxHeight:"100px",objectFit:"contain",marginTop:"40px"}})}),Object(R.jsx)("span",{style:K.timestamp,children:Pe(n.timestamp)}),Object(R.jsxs)("div",{style:{display:"flex",marginTop:"5px"},children:[Object.entries(n.reactions?Object.values(n.reactions).reduce((function(e,n){return Object(b.a)(Object(b.a)({},e),{},Object(f.a)({},n,(e[n]||0)+1))}),{}):{}).slice(0,3).map((function(e){var n=Object(k.a)(e,2),t=n[0],r=n[1];return Object(R.jsxs)("span",{style:{marginRight:"2px",fontSize:"12px"},children:[r," ",t]},t)})),Object.keys(n.reactions||{}).length>3&&Object(R.jsxs)("span",{style:{fontSize:"12px"},children:["+",Object.keys(n.reactions).length-3]})]})]}),n.sender.toLowerCase()===e.toLowerCase()&&Object(R.jsx)(L.m,{onClick:function(){return Ae(n)},style:{background:"none",border:"none",cursor:"pointer",padding:"0",marginLeft:"10px",fontSize:K.timestamp.fontSize,display:"inline-flex",alignItems:"center"},children:"\ud83d\uddd1\ufe0f"})]})]},n.id);var t}))}),Object(R.jsxs)("div",{style:K.inputRow,children:[Object(R.jsxs)(L.J,{alignItems:"center",justifyContent:"center",children:[Object(R.jsx)(P,{type:"text",value:re?oe:c,onChange:re?function(e){ce(e.target.value)}:function(e){return s(e.target.value)},onKeyDown:function(e){"Enter"!==e.key||re||0!==d||We()},style:K.input,placeholder:re?"Search in chatbox...":d>0?"Cooldown: ".concat(d,"s"):"Type a message",disabled:d>0&&!re}),Object(R.jsx)(L.m,{onClick:We,style:K.sendButton,disabled:d>0,children:"Send"}),Object(R.jsx)(L.m,{onClick:function(){return de(!pe)},style:K.emojiButton,children:"\ud83d\ude0a"}),Object(R.jsx)(L.m,{onClick:function(){return Be.current.click()},style:K.fileButton,children:"\ud83d\udce4"}),Object(R.jsx)(v.a,{to:"/toplist",children:Object(R.jsx)(L.m,{variant:"gold",ml:"5px",width:"15px",children:"\ud83c\udfc6 "})})]}),ge&&Object(R.jsxs)("div",{style:K.previewContainer,children:[Object(R.jsx)(L.zb,{style:K.previewText,children:"Image selected:"}),Object(R.jsx)("img",{src:ge,alt:"Preview",style:K.previewImage}),Object(R.jsx)(L.m,{onClick:function(){return fe(null)},style:K.deleteButton,children:"\u274c"})]})]}),Object(R.jsx)("input",{type:"file",accept:"image/*",ref:Be,style:{display:"none"},onChange:function(e){if(e.target.files&&e.target.files[0]){var n=e.target.files[0];if(n.size>1048576)return void alert("The file size must be less than 1 MB.");var t=new FileReader;t.onload=function(e){fe(e.target.result)},t.readAsDataURL(n)}}}),pe&&Object(R.jsx)(B,{setNewMessage:s,newMessage:c,handleSendImage:function(e){fe(e)}}),je&&Object(R.jsx)(D,{onReactionSelect:function(e){He(je,e),he(null)}}),ye&&Object(R.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:De,role:"button",tabIndex:"0",onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||De()},children:Object(R.jsx)("img",{src:ye,alt:"Enlarged",style:{maxWidth:"90%",maxHeight:"90%",cursor:"pointer"}})})]}):Object(R.jsx)(z.a,{})})}}}]);
//# sourceMappingURL=27.1c8ca760.chunk.js.map